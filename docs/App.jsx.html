<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: App.jsx</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: App.jsx</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import React, { useEffect, useState } from "react";
import {
  BrowserRouter as Router,
  Route,
  Routes,
  Navigate,
} from "react-router-dom";
import "./App.css";
import Dashboard from "./Components/Dashboard/Dashboard";
import Chatbot from "./Components/Chatbot/Chatbot";
import Connector from "./Components/Connectors/Connector";
import { PublicClientApplication } from "@azure/msal-browser";
import Login from "./Components/Login_Page/Login";
import Auth from "./Components/Login_Page/auth";
/**
 * Microsoft Authentication Configuration.
 * @typedef {Object} MsalConfig
 * @property {Object} auth - Authentication configuration.
 * @property {string} auth.clientId - The client ID of the application registered in Azure Active Directory.
 * @property {string} auth.authority - The authority URL for the application.
 * @property {string} auth.redirectUri - The redirect URI for the application.
 */

/**
 * @type {MsalConfig}
 */
const msalConfig = {
  auth: {
    clientId: "c5a73855-31a7-4bfa-a0db-4f7ddef05b49",
    authority:
      "https://login.microsoftonline.com/4d4343c6-067a-4794-91f3-5cb10073e5b4",
    redirectUri: "https://black-meadow-06ff0ea10.5.azurestaticapps.net/",
  },
};

/**
 * Public Client Application instance.
 * @type {PublicClientApplication}
 */
const pca = new PublicClientApplication(msalConfig);
const scopes = ["user.read"];

/**
 * Main application component.
 * @returns {JSX.Element} The main application component.
 */
function App() {
  const [loading, setLoading] = useState(true);
  const [authenticated, setAuthenticated] = useState(false);
   /**
   * Authentication hook.
   * @type {Object} auth
   * @property {Object} auth.user - Current user object.
   * @property {Function} auth.login - Function to initiate login process.
   * @property {Function} auth.logout - Function to initiate logout process.
   */
  const { user, login, logout } = Auth(pca, scopes);

  useEffect(() => {
        /**
     * Function to check authentication status.
     */
    const checkAuthentication = async () => {
      const accounts = pca.getAllAccounts();
      if (accounts.length > 0) {
        setAuthenticated(true);
      }
      setLoading(false);
    };

    checkAuthentication();
  }, []);
  console.log(authenticated)
  if (loading) {
    // Render loading indicator while authentication check is in progress
    return &lt;div>Loading...&lt;/div>;
  }

    /**
   * Render function for the main application component.
   * @returns {JSX.Element} The rendered component.
   */
  return (
    &lt;Router>
      &lt;Routes>
            &lt;Route path="/chat" element={authenticated?&lt;Chatbot />:&lt;Navigate to={"/login"}>&lt;/Navigate>} />
            &lt;Route path="/connector" element={authenticated?&lt;Connector />:&lt;Navigate to={"/login"}>&lt;/Navigate>} />
            &lt;Route
              path="/"
              element={authenticated?&lt;Dashboard user={user} logout={logout} />:&lt;Navigate to={"/login"}>&lt;/Navigate>}
            />
          &lt;Route path="/login" element={!authenticated?&lt;Login login={login}>&lt;/Login>:&lt;Navigate to={"/"}>&lt;/Navigate>}/>

      &lt;/Routes>
    &lt;/Router>
  );
}

export default App;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Message.html">Message</a></li><li><a href="UserData.html">UserData</a></li></ul><h3>Global</h3><ul><li><a href="global.html#App">App</a></li><li><a href="global.html#msalConfig">msalConfig</a></li><li><a href="global.html#pca">pca</a></li><li><a href="global.html#useAuthentication">useAuthentication</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.2</a> on Thu Mar 21 2024 23:23:28 GMT+0530 (India Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
